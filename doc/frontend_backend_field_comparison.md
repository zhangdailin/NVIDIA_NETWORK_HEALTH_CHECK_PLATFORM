# å‰ç«¯åç«¯å­—æ®µå¯¹æ¯”æŠ¥å‘Š
**æ—¥æœŸ**: 2026-01-07
**é—®é¢˜**: åç«¯æ£€æŸ¥äº†å¾ˆå¤šä¿¡æ¯,å‰ç«¯æ²¡æœ‰å…¨éƒ¨æ˜¾ç¤º
**çŠ¶æ€**: âœ… å·²ç¡®è®¤å·®å¼‚

---

## ğŸ“Š åç«¯è¿”å›çš„å­—æ®µ (backend/services/ber_advanced_service.py:144-157)

### å®Œæ•´è®°å½•ç»“æ„:

```python
record = {
    "NodeGUID": "0x248a0703005c8ab0",
    "NodeName": "switch-01",
    "PortNumber": 1,
    "RawBER": "1.5e-254",              # âœ¨ ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²
    "EffectiveBER": "1.5e-254",        # âœ¨ ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²
    "SymbolBER": "1.5e-254",           # âœ¨ ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²
    "RawBERLog10": -252.82,            # âœ¨ Log10æ•°å€¼
    "EffectiveBERLog10": -252.82,      # âœ¨ Log10æ•°å€¼
    "SymbolBERLog10": -252.82,         # âœ¨ Log10æ•°å€¼
    "Severity": "critical",            # âœ¨ ä¸¥é‡ç¨‹åº¦
    "DataSource": "PHY_DB16",          # âœ¨ æ•°æ®æºæ ‡è¯†
    "Magnitude": 12,                   # âœ¨ è°ƒè¯•ç”¨magnitudeå€¼
}
```

### Summaryç»“æ„:

```python
summary = {
    "total_ports": 30396,
    "critical_ber_count": 5,
    "warning_ber_count": 0,
    "healthy_ports": 30391,
    "ber_distribution": {
        "<10^-15 (Normal)": 30391,
        "10^-12 to 10^-9 (High)": 5
    },
    "data_source": "PHY_DB16 (mantissa/exponent format)"
}
```

---

## ğŸ–¥ï¸ å‰ç«¯æ˜¾ç¤ºçš„å­—æ®µ (frontend/src/BERAnalysis.jsx:378-433)

### è¡¨æ ¼åˆ—:

| åˆ—å | åç«¯å­—æ®µ | æ˜¾ç¤ºæ–¹å¼ | ä½ç½® |
|------|----------|----------|------|
| **çŠ¶æ€** | Severity | ğŸ”´ä¸¥é‡/âš ï¸è­¦å‘Š/âœ…æ­£å¸¸ | Line 406-409 |
| **èŠ‚ç‚¹å** | NodeName / "Node Name" | ç›´æ¥æ˜¾ç¤º | Line 411 |
| **ç«¯å£** | PortNumber / "Port Number" | ç›´æ¥æ˜¾ç¤º | Line 412 |
| **Symbol BER** | SymbolBERLog10Value / EffectiveBERLog10 / RawBERLog10 | `10^${log10Value}` | Line 419 |
| **Effective BER** | EffectiveBER / "Effective BER" | ç›´æ¥æ˜¾ç¤º | Line 421 |
| **Raw BER** | RawBER / "Raw BER" | ç›´æ¥æ˜¾ç¤º | Line 422 |
| **äº‹ä»¶åç§°** | EventName / Issues | ç›´æ¥æ˜¾ç¤º | Line 423 |
| **FECçº æ­£** | FECCorrectedCW / FECCorrected / FECCorrectedBlocks | æ•°å­—æ ¼å¼åŒ– | Line 425 |
| **FECä¸å¯çº æ­£** | FECUncorrectedCW / FECUncorrected / FECUncorrectableBlocks | æ•°å­—æ ¼å¼åŒ– | Line 432 |

---

## âŒ å‰ç«¯æœªæ˜¾ç¤ºçš„åç«¯å­—æ®µ

### 1. **SymbolBER** (ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²) - æœ€é‡è¦!

**åç«¯è¿”å›**: `"1.5e-254"` (å­—ç¬¦ä¸²)

**å‰ç«¯å½“å‰æ˜¾ç¤º**: `10^-252.82` (ä»Log10å€¼è®¡ç®—)

**é—®é¢˜**:
- å‰ç«¯Line 419æ˜¾ç¤ºçš„æ˜¯Log10è½¬æ¢åçš„æ ¼å¼,è€Œä¸æ˜¯åç«¯è¿”å›çš„åŸå§‹ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²
- åç«¯å·²ç»è®¡ç®—å¥½äº† `"1.5e-254"` æ ¼å¼,ä½†å‰ç«¯æ²¡æœ‰ä½¿ç”¨

**å»ºè®®ä¿®æ”¹** (Line 419):
```javascript
// å½“å‰ (é”™è¯¯):
{Number.isFinite(log10Value) && log10Value !== 0 ? `10^${log10Value.toFixed(1)}` : 'N/A'}

// å»ºè®®ä¿®æ”¹ä¸º (æ­£ç¡®):
{row.SymbolBER || (Number.isFinite(log10Value) && log10Value !== 0 ? `10^${log10Value.toFixed(1)}` : 'N/A')}
```

**å½±å“**: â­â­â­â­â­ **æé«˜** - è¿™æ˜¯ç”¨æˆ·æœ€å…³æ³¨çš„BERæ•°å€¼æ ¼å¼!

---

### 2. **Magnitude** (è°ƒè¯•å­—æ®µ)

**åç«¯è¿”å›**: `12` (æ•´æ•°)

**å‰ç«¯æ˜¾ç¤º**: âŒ æœªæ˜¾ç¤º

**ç”¨é€”**:
- è°ƒè¯•ç”¨,æ˜¾ç¤ºmagnitudeå€¼å¯ä»¥å¸®åŠ©ç†è§£ä¸ºä»€ä¹ˆç«¯å£è¢«æ ‡è®°ä¸ºcritical
- magnitude < 14 â†’ critical
- magnitude = 12 è¡¨ç¤ºBER = 10^-12 (å¾ˆå·®)

**å»ºè®®æ˜¯å¦æ·»åŠ **:
- å¯é€‰,ä»…åœ¨è°ƒè¯•æ¨¡å¼ä¸‹æ˜¾ç¤º
- æˆ–è€…æ·»åŠ åˆ°è¯¦æƒ…å±•å¼€é¢æ¿

**å½±å“**: â­â­ **ä½** - ä»…è°ƒè¯•ç”¨é€”

---

### 3. **DataSource** (æ•°æ®æºæ ‡è¯†)

**åç«¯è¿”å›**: `"PHY_DB16"`

**å‰ç«¯æ˜¾ç¤º**: âŒ æœªæ˜¾ç¤º

**ç”¨é€”**:
- æ ‡è¯†æ•°æ®æ¥æº (PHY_DB16 vs PHY_DB36)
- PHY_DB16 = mantissa/exponentæ ¼å¼ (å®Œæ•´ç²¾åº¦)
- PHY_DB36 = æµ®ç‚¹æ•°æ ¼å¼ (å¯èƒ½ç²¾åº¦æŸå¤±)

**å»ºè®®æ·»åŠ ä½ç½®**:
- åœ¨é¡µé¢åº•éƒ¨æˆ–ç»Ÿè®¡åŒºåŸŸæ˜¾ç¤º: "æ•°æ®æº: PHY_DB16 (mantissa/exponent format)"
- æˆ–è€…åœ¨Summaryå¡ç‰‡ä¸­æ˜¾ç¤º

**å½±å“**: â­â­â­ **ä¸­ç­‰** - å¸®åŠ©ç”¨æˆ·ç†è§£æ•°æ®è´¨é‡

---

### 4. **NodeGUID** (èŠ‚ç‚¹GUID)

**åç«¯è¿”å›**: `"0x248a0703005c8ab0"`

**å‰ç«¯æ˜¾ç¤º**: âŒ æœªæ˜¾ç¤º

**ç”¨é€”**:
- å”¯ä¸€æ ‡è¯†èŠ‚ç‚¹
- ç”¨äºè°ƒè¯•å’Œç²¾ç¡®å®šä½

**å»ºè®®æ˜¯å¦æ·»åŠ **:
- å¯é€‰,æ·»åŠ åˆ°è¯¦æƒ…å±•å¼€é¢æ¿æˆ–é¼ æ ‡æ‚¬åœæç¤º
- ä¸å»ºè®®æ·»åŠ åˆ°ä¸»è¡¨æ ¼ (å¤ªé•¿,å½±å“å¯è¯»æ€§)

**å½±å“**: â­ **æä½** - ä¸€èˆ¬ç”¨æˆ·ä¸éœ€è¦

---

### 5. **RawBERLog10, EffectiveBERLog10** (å•ç‹¬çš„Log10å€¼)

**åç«¯è¿”å›**: `-252.82`, `-252.82` (æ•°å€¼)

**å‰ç«¯æ˜¾ç¤º**: âŒ æœªå•ç‹¬æ˜¾ç¤º (ä»…ç”¨äºè®¡ç®—Symbol BERåˆ—)

**ç”¨é€”**:
- æä¾›ä¸‰ç§BERçš„Log10æ•°å€¼
- ç›®å‰å‰ç«¯åªä½¿ç”¨äº†SymbolBERLog10

**å»ºè®®æ˜¯å¦æ·»åŠ **:
- ä¸å»ºè®®æ·»åŠ  - ä¼šä½¿è¡¨æ ¼è¿‡äºå¤æ‚
- å½“å‰æ˜¾ç¤ºEffective BERå’ŒRaw BERçš„ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²å·²è¶³å¤Ÿ

**å½±å“**: â­ **æä½** - å†—ä½™ä¿¡æ¯

---

## ğŸ“ˆ Summaryå­—æ®µå¯¹æ¯”

### åç«¯è¿”å›çš„Summary (Line 160-167):

```python
summary = {
    "total_ports": 30396,                              # âœ… æ˜¾ç¤ºåœ¨ç»Ÿè®¡å¡ç‰‡
    "critical_ber_count": 5,                           # âœ… æ˜¾ç¤ºåœ¨ç»Ÿè®¡å¡ç‰‡
    "warning_ber_count": 0,                            # âœ… æ˜¾ç¤ºåœ¨ç»Ÿè®¡å¡ç‰‡
    "healthy_ports": 30391,                            # âŒ æœªæ˜¾ç¤º
    "ber_distribution": {...},                         # âŒ æœªæ˜¾ç¤º
    "data_source": "PHY_DB16 (mantissa/exponent format)" # âŒ æœªæ˜¾ç¤º
}
```

### å‰ç«¯æœªæ˜¾ç¤ºçš„Summaryå­—æ®µ:

1. **healthy_ports**: å¥åº·ç«¯å£æ•°é‡
   - å½±å“: â­â­ **ä½** - å¯ä»¥ä»total - critical - warningè®¡ç®—å¾—å‡º

2. **ber_distribution**: BERåˆ†å¸ƒç»Ÿè®¡
   - ä¾‹: `{"<10^-15 (Normal)": 30391, "10^-12 to 10^-9 (High)": 5}`
   - å½±å“: â­â­â­â­ **é«˜** - æä¾›BERåˆ†å¸ƒçš„å…¨å±€è§†å›¾,å»ºè®®æ·»åŠ !

3. **data_source**: æ•°æ®æºæ ‡è¯†
   - ä¾‹: `"PHY_DB16 (mantissa/exponent format)"`
   - å½±å“: â­â­â­ **ä¸­ç­‰** - å¸®åŠ©ç”¨æˆ·ç†è§£æ•°æ®æ¥æº

---

## ğŸ¯ ä¼˜å…ˆä¿®æ”¹å»ºè®®

### ä¼˜å…ˆçº§1: **å¿…é¡»ä¿®å¤** â­â­â­â­â­

**é—®é¢˜**: Symbol BERåˆ—æ˜¾ç¤ºçš„æ˜¯Log10æ ¼å¼,è€Œä¸æ˜¯åç«¯è¿”å›çš„ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²

**ä½ç½®**: [BERAnalysis.jsx:419](../frontend/src/BERAnalysis.jsx#L419)

**ä¿®æ”¹**:
```javascript
// å½“å‰:
{Number.isFinite(log10Value) && log10Value !== 0 ? `10^${log10Value.toFixed(1)}` : 'N/A'}

// ä¿®æ”¹ä¸º (ä¼˜å…ˆä½¿ç”¨åç«¯è¿”å›çš„ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²):
{row.SymbolBER || (Number.isFinite(log10Value) && log10Value !== 0 ? `10^${log10Value.toFixed(1)}` : 'N/A')}
```

**æ•ˆæœå¯¹æ¯”**:
```
ä¿®æ”¹å‰: 10^-252.8  (ä»Log10è®¡ç®—)
ä¿®æ”¹å: 1.5e-254   (åç«¯è¿”å›çš„ç²¾ç¡®å€¼) âœ…
```

---

### ä¼˜å…ˆçº§2: **å¼ºçƒˆå»ºè®®æ·»åŠ ** â­â­â­â­

**å­—æ®µ**: BER Distribution (BERåˆ†å¸ƒç»Ÿè®¡)

**ä½ç½®**: å»ºè®®åœ¨Summaryå¡ç‰‡åŒºåŸŸæ·»åŠ 

**å®ç°**:
```javascript
{/* BERåˆ†å¸ƒç»Ÿè®¡ */}
{summary?.ber_distribution && (
  <div style={{ marginTop: '20px', padding: '16px', background: '#f9fafb', borderRadius: '8px' }}>
    <h4 style={{ margin: '0 0 12px 0', fontSize: '1rem' }}>ğŸ“Š BERåˆ†å¸ƒ</h4>
    {Object.entries(summary.ber_distribution).map(([range, count]) => (
      <div key={range} style={{ display: 'flex', justifyContent: 'space-between', padding: '4px 0' }}>
        <span>{range}:</span>
        <span style={{ fontWeight: '600' }}>{count.toLocaleString()}</span>
      </div>
    ))}
  </div>
)}
```

**æ•ˆæœ**:
```
ğŸ“Š BERåˆ†å¸ƒ
<10^-15 (Normal):     30,391
10^-12 to 10^-9 (High):     5
```

---

### ä¼˜å…ˆçº§3: **å»ºè®®æ·»åŠ ** â­â­â­

**å­—æ®µ**: Data Source (æ•°æ®æºæ ‡è¯†)

**ä½ç½®**: å»ºè®®åœ¨é¡µé¢åº•éƒ¨æˆ–SummaryåŒºåŸŸ

**å®ç°**:
```javascript
{/* æ•°æ®æºæ ‡è¯† */}
{summary?.data_source && (
  <div style={{ marginTop: '12px', fontSize: '0.85rem', color: '#6b7280' }}>
    â„¹ï¸ æ•°æ®æº: {summary.data_source}
  </div>
)}
```

**æ•ˆæœ**:
```
â„¹ï¸ æ•°æ®æº: PHY_DB16 (mantissa/exponent format)
```

---

### ä¼˜å…ˆçº§4: **å¯é€‰** â­â­

**å­—æ®µ**: Magnitude (è°ƒè¯•å­—æ®µ)

**ä½ç½®**: å»ºè®®æ·»åŠ åˆ°è¡¨æ ¼çš„è¯¦æƒ…å±•å¼€é¢æ¿,æˆ–è€…é¼ æ ‡æ‚¬åœæç¤º

**å®ç°** (Tooltipæ–¹å¼):
```javascript
<td style={{ padding: '10px' }} title={`Magnitude: ${row.Magnitude || 'N/A'}`}>
  {row.SymbolBER || 'N/A'}
</td>
```

**æ•ˆæœ**:
```
é¼ æ ‡æ‚¬åœåœ¨BERåˆ—æ—¶æ˜¾ç¤º: "Magnitude: 12"
```

---

## ğŸ“‹ å®Œæ•´å¯¹æ¯”è¡¨

| åç«¯å­—æ®µ | å‰ç«¯æ˜¯å¦æ˜¾ç¤º | æ˜¾ç¤ºä½ç½® | ä¼˜å…ˆçº§ | å»ºè®® |
|---------|-------------|----------|--------|------|
| **NodeGUID** | âŒ | - | â­ æä½ | å¯é€‰,é¼ æ ‡æ‚¬åœæ˜¾ç¤º |
| **NodeName** | âœ… | èŠ‚ç‚¹ååˆ— | - | å·²æ˜¾ç¤º |
| **PortNumber** | âœ… | ç«¯å£åˆ— | - | å·²æ˜¾ç¤º |
| **RawBER** | âœ… | Raw BERåˆ— | - | å·²æ˜¾ç¤º |
| **EffectiveBER** | âœ… | Effective BERåˆ— | - | å·²æ˜¾ç¤º |
| **SymbolBER** | âŒ (æ˜¾ç¤ºäº†Log10æ ¼å¼) | Symbol BERåˆ— | â­â­â­â­â­ æé«˜ | **å¿…é¡»ä¿®å¤** |
| **RawBERLog10** | âŒ | - | â­ æä½ | ä¸å»ºè®®æ·»åŠ  |
| **EffectiveBERLog10** | âŒ | - | â­ æä½ | ä¸å»ºè®®æ·»åŠ  |
| **SymbolBERLog10** | âœ… (é—´æ¥) | Symbol BERåˆ— | - | å·²ç”¨äºè®¡ç®— |
| **Severity** | âœ… | çŠ¶æ€åˆ— | - | å·²æ˜¾ç¤º |
| **DataSource** | âŒ | - | â­â­â­ ä¸­ç­‰ | å»ºè®®æ·»åŠ åˆ°é¡µé¢åº•éƒ¨ |
| **Magnitude** | âŒ | - | â­â­ ä½ | å¯é€‰,è°ƒè¯•ç”¨ |
| **summary.total_ports** | âœ… | ç»Ÿè®¡å¡ç‰‡ | - | å·²æ˜¾ç¤º |
| **summary.critical_ber_count** | âœ… | ç»Ÿè®¡å¡ç‰‡ | - | å·²æ˜¾ç¤º |
| **summary.warning_ber_count** | âœ… | ç»Ÿè®¡å¡ç‰‡ | - | å·²æ˜¾ç¤º |
| **summary.healthy_ports** | âŒ | - | â­â­ ä½ | å¯è®¡ç®—å¾—å‡º |
| **summary.ber_distribution** | âŒ | - | â­â­â­â­ é«˜ | **å¼ºçƒˆå»ºè®®æ·»åŠ ** |
| **summary.data_source** | âŒ | - | â­â­â­ ä¸­ç­‰ | å»ºè®®æ·»åŠ  |

---

## ğŸ§ª éªŒè¯æµ‹è¯•

### æµ‹è¯•1: æ£€æŸ¥Symbol BERæ˜¾ç¤ºæ ¼å¼

**æ“ä½œ**: ä¸Šä¼ IBDiagnetæ–‡ä»¶,æŸ¥çœ‹BERè¡¨æ ¼

**å½“å‰æ˜¾ç¤º** (Line 419):
```
Symbol BERåˆ—: 10^-252.8
```

**åº”è¯¥æ˜¾ç¤º** (ä¿®æ”¹å):
```
Symbol BERåˆ—: 1.5e-254  âœ… æ›´ç²¾ç¡®!
```

---

### æµ‹è¯•2: æ£€æŸ¥BERåˆ†å¸ƒæ˜¯å¦åœ¨å‰ç«¯æ˜¾ç¤º

**æ“ä½œ**: æŸ¥çœ‹SummaryåŒºåŸŸ

**å½“å‰**: âŒ æ²¡æœ‰BERåˆ†å¸ƒç»Ÿè®¡

**å»ºè®®æ·»åŠ å**:
```
ğŸ“Š BERåˆ†å¸ƒ
<10^-15 (Normal):     30,391
10^-12 to 10^-9 (High):     5
```

---

### æµ‹è¯•3: æ£€æŸ¥æ•°æ®æºæ ‡è¯†

**å½“å‰**: âŒ å‰ç«¯ä¸æ˜¾ç¤ºæ•°æ®æ¥è‡ªå“ªä¸ªè¡¨

**å»ºè®®æ·»åŠ å**:
```
â„¹ï¸ æ•°æ®æº: PHY_DB16 (mantissa/exponent format)
```

---

## âœ… æ€»ç»“

### å…³é”®å‘ç°:

1. **Symbol BERå­—æ®µæ˜¾ç¤ºé”™è¯¯** â­â­â­â­â­
   - åç«¯è¿”å›: `"1.5e-254"` (ç§‘å­¦è®¡æ•°æ³•å­—ç¬¦ä¸²)
   - å‰ç«¯æ˜¾ç¤º: `10^-252.8` (ä»Log10è®¡ç®—)
   - **å¿…é¡»ä¿®å¤!**

2. **BERåˆ†å¸ƒç»Ÿè®¡æœªæ˜¾ç¤º** â­â­â­â­
   - åç«¯è®¡ç®—äº†å®Œæ•´çš„BERåˆ†å¸ƒ
   - å‰ç«¯æ²¡æœ‰æ˜¾ç¤º
   - **å¼ºçƒˆå»ºè®®æ·»åŠ **

3. **æ•°æ®æºæ ‡è¯†æœªæ˜¾ç¤º** â­â­â­
   - ç”¨æˆ·æ— æ³•çŸ¥é“æ•°æ®æ¥è‡ªPHY_DB16è¿˜æ˜¯PHY_DB36
   - **å»ºè®®æ·»åŠ **

4. **è°ƒè¯•å­—æ®µæœªæ˜¾ç¤º** â­â­
   - Magnitude, NodeGUIDç­‰è°ƒè¯•å­—æ®µ
   - **å¯é€‰æ·»åŠ **

### ä¸‹ä¸€æ­¥:

1. ä¿®å¤Symbol BERæ˜¾ç¤º (ä¼˜å…ˆçº§æœ€é«˜)
2. æ·»åŠ BERåˆ†å¸ƒç»Ÿè®¡æ˜¾ç¤º
3. æ·»åŠ æ•°æ®æºæ ‡è¯†
4. (å¯é€‰) æ·»åŠ è°ƒè¯•å­—æ®µ

---

**æ–‡æ¡£æ›´æ–°**: 2026-01-07
**ç»´æŠ¤è€…**: Claude Code Assistant
